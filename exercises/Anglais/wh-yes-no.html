<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Anglais - WH et Yes/No</title>
    <style>
      :root {
        --bg: #0f1115;
        --ink: #e8e6e3;
        --muted: #b7b3ad;
        --accent: #8ab4f8;
        --card: #171a21;
        --border: #2a2f3a;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        font-family: "IBM Plex Serif", "Georgia", serif;
        background: var(--bg);
        color: var(--ink);
        padding: 32px;
      }
      a { color: var(--accent); }
      header { max-width: 820px; margin: 0 auto 20px; }
      h1 { margin: 0 0 6px; font-size: 2rem; }
      p { margin: 0; color: var(--muted); }
      main { max-width: 820px; margin: 0 auto; }
      .card {
        background: var(--card);
        border: 1px solid var(--border);
        padding: 18px;
        margin-bottom: 16px;
      }
      label { display: block; margin-bottom: 6px; }
      select {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--border);
        background: #ffffff;
        color: #111111;
      }
      .feedback { color: var(--muted); margin-top: 8px; }
      .feedback.good { color: #8bd99f; }
      .feedback.bad { color: #f28b82; }
      button {
        padding: 10px 14px;
        font-size: 1rem;
        border: 1px solid var(--border);
        background: #ffffff;
        color: #111111;
        cursor: pointer;
      }
      button:hover { border-color: var(--accent); }
      .result { font-weight: bold; color: var(--muted); margin-top: 10px; }
      .actions { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
      .series { color: var(--muted); font-size: 0.9rem; }
    </style>
  </head>
  <body>
    <header>
      <p><a href="intro.html">Retour Anglais</a></p>
      <h1>&#10067; WH questions et Yes/No questions</h1>
      <p>Choisis la bonne question pour chaque reponse.</p>
    </header>
    <main>
      <div class="card">
        <label id="q1-label" for="q1"></label>
        <select id="q1"></select>
      </div>
      <div class="card">
        <label id="q2-label" for="q2"></label>
        <select id="q2"></select>
      </div>
      <div class="card">
        <label id="q3-label" for="q3"></label>
        <select id="q3"></select>
      </div>
      <div class="card">
        <label id="q4-label" for="q4"></label>
        <select id="q4"></select>
      </div>
      <div class="card">
        <label id="q5-label" for="q5"></label>
        <select id="q5"></select>
      </div>
      <div class="card">
        <label id="q6-label" for="q6"></label>
        <select id="q6"></select>
      </div>
      <div class="actions">
        <button id="check">Verifier</button>
        <button id="next">Autre serie</button>
        <span class="series" id="series"></span>
      </div>
      <p class="result" id="result" aria-live="polite"></p>
    </main>
    <script>
      const sets = [
        [
          {
            label: "Answer: She is Canadian.",
            options: ["What is her nationality?", "Where is she from?", "Is she Canadian?", "How old is she?"],
            answer: "What is her nationality?",
            explain: "Pour une nationalite, on utilise What... nationality.",
          },
          {
            label: "Answer: He is from Dublin.",
            options: ["Where is he from?", "What is his name?", "Is he from Dublin?", "How old is he?"],
            answer: "Where is he from?",
            explain: "Pour l'origine, on utilise Where... from.",
          },
          {
            label: "Answer: She is eighteen years old.",
            options: ["How old is she?", "Where is she from?", "Is she eighteen years old?", "What is her name?"],
            answer: "How old is she?",
            explain: "Pour l'age, on utilise How old.",
          },
          {
            label: "Answer: Yes, he is.",
            options: ["Is he Australian?", "Where is he from?", "What is his nationality?", "How old is he?"],
            answer: "Is he Australian?",
            explain: "Yes/No questions commencent par l'auxiliaire be: Is he...?",
          },
          {
            label: "Answer: Her name is Ann.",
            options: ["What is her name?", "Where is she from?", "Is her name Ann?", "How old is she?"],
            answer: "What is her name?",
            explain: "Pour le prenom, on utilise What is her name.",
          },
          {
            label: "Answer: She is Rebecca.",
            options: ["Who is she?", "What is her nationality?", "Is she Rebecca?", "Where is she from?"],
            answer: "Who is she?",
            explain: "Who sert a identifier une personne.",
          },
        ],
        [
          {
            label: "Answer: He is Irish.",
            options: ["What is his nationality?", "Where is he from?", "Is he Irish?", "How old is he?"],
            answer: "What is his nationality?",
            explain: "Nationalite: What is his nationality?",
          },
          {
            label: "Answer: She is from Sydney.",
            options: ["Where is she from?", "What is her name?", "Is she from Sydney?", "How old is she?"],
            answer: "Where is she from?",
            explain: "Origine: Where is she from?",
          },
          {
            label: "Answer: He is twenty years old.",
            options: ["How old is he?", "Where is he from?", "Is he twenty years old?", "What is his name?"],
            answer: "How old is he?",
            explain: "Age: How old is he?",
          },
          {
            label: "Answer: No, she isn't.",
            options: ["Is she Australian?", "Where is she from?", "What is her nationality?", "How old is she?"],
            answer: "Is she Australian?",
            explain: "Yes/No: Is she...?",
          },
          {
            label: "Answer: His name is Jake.",
            options: ["What is his name?", "Where is he from?", "Is his name Jake?", "How old is he?"],
            answer: "What is his name?",
            explain: "Prenom: What is his name?",
          },
          {
            label: "Answer: He is Liam.",
            options: ["Who is he?", "What is his nationality?", "Is he Liam?", "Where is he from?"],
            answer: "Who is he?",
            explain: "Who sert a identifier une personne.",
          },
        ],
        [
          {
            label: "Answer: She is Australian.",
            options: ["What is her nationality?", "Where is she from?", "Is she Australian?", "How old is she?"],
            answer: "What is her nationality?",
            explain: "Nationalite: What is her nationality?",
          },
          {
            label: "Answer: He is from Toronto.",
            options: ["Where is he from?", "What is his name?", "Is he from Toronto?", "How old is he?"],
            answer: "Where is he from?",
            explain: "Origine: Where is he from?",
          },
          {
            label: "Answer: She is sixteen years old.",
            options: ["How old is she?", "Where is she from?", "Is she sixteen years old?", "What is her name?"],
            answer: "How old is she?",
            explain: "Age: How old is she?",
          },
          {
            label: "Answer: Yes, he is.",
            options: ["Is he Irish?", "Where is he from?", "What is his nationality?", "How old is he?"],
            answer: "Is he Irish?",
            explain: "Yes/No: Is he...?",
          },
          {
            label: "Answer: Her name is Rebecca.",
            options: ["What is her name?", "Where is she from?", "Is her name Rebecca?", "How old is she?"],
            answer: "What is her name?",
            explain: "Prenom: What is her name?",
          },
          {
            label: "Answer: She is Ann.",
            options: ["Who is she?", "What is her nationality?", "Is she Ann?", "Where is she from?"],
            answer: "Who is she?",
            explain: "Who sert a identifier une personne.",
          },
        ],
      ];

      const button = document.getElementById("check");
      const result = document.getElementById("result");
      const next = document.getElementById("next");
      const series = document.getElementById("series");
      const labels = [
        document.getElementById("q1-label"),
        document.getElementById("q2-label"),
        document.getElementById("q3-label"),
        document.getElementById("q4-label"),
        document.getElementById("q5-label"),
        document.getElementById("q6-label"),
      ];
      const selects = [
        document.getElementById("q1"),
        document.getElementById("q2"),
        document.getElementById("q3"),
        document.getElementById("q4"),
        document.getElementById("q5"),
        document.getElementById("q6"),
      ];
      let current = Math.floor(Math.random() * sets.length);

      const shuffle = (items) => {
        const copy = items.slice();
        for (let i = copy.length - 1; i > 0; i -= 1) {
          const j = Math.floor(Math.random() * (i + 1));
          [copy[i], copy[j]] = [copy[j], copy[i]];
        }
        return copy;
      };

      const renderSet = (index) => {
        result.textContent = "";
        series.textContent = `Serie ${index + 1}/3`;
        sets[index].forEach((item, i) => {
          labels[i].textContent = item.label;
          selects[i].dataset.answer = item.answer;
          selects[i].dataset.explain = item.explain;
          selects[i].innerHTML = "";
          const placeholder = document.createElement("option");
          placeholder.value = "";
          placeholder.textContent = "-- Choisir --";
          selects[i].appendChild(placeholder);
          shuffle(item.options).forEach((opt) => {
            const option = document.createElement("option");
            option.textContent = opt;
            selects[i].appendChild(option);
          });
          const feedback = selects[i].parentElement.querySelector(".feedback");
          if (feedback) {
            feedback.textContent = "";
            feedback.classList.remove("good", "bad");
          }
        });
      };

      renderSet(current);

      button.addEventListener("click", () => {
        let score = 0;
        selects.forEach((select) => {
          let feedback = select.parentElement.querySelector(".feedback");
          if (!feedback) {
            feedback = document.createElement("p");
            feedback.className = "feedback";
            select.parentElement.appendChild(feedback);
          }
          if (!select.value) {
            feedback.textContent = "Choisis une reponse.";
            feedback.classList.remove("good", "bad");
            return;
          }
          if (select.value === select.dataset.answer) {
            feedback.textContent = "Correct.";
            feedback.classList.remove("bad");
            feedback.classList.add("good");
            score += 1;
          } else {
            feedback.textContent = `Faux: ${select.dataset.explain}`;
            feedback.classList.remove("good");
            feedback.classList.add("bad");
          }
        });
        result.textContent = `Score: ${score}/${selects.length}`;
      });

      next.addEventListener("click", () => {
        let index = current;
        while (index === current && sets.length > 1) {
          index = Math.floor(Math.random() * sets.length);
        }
        current = index;
        renderSet(current);
      });
    </script>
  </body>
</html>
